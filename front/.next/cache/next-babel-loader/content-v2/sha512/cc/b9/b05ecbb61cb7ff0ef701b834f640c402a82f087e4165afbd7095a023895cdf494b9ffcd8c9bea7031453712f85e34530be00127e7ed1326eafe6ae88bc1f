{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/ahmaddev/Apps/azizyar/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ahmaddev/Apps/azizyar/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/ahmaddev/Apps/azizyar/front/components/OrderItem.js\",\n    _s = $RefreshSig$();\n\nimport { NEW_IMAGES_URL, API_URL } from '@/config/index';\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport styles from '@/styles/Address.module.css'; //import { API_URL } from '@/config/index'\n\nexport default function OrderItem(_ref) {\n  _s();\n\n  var _this = this;\n\n  var orderitems = _ref.orderitems;\n\n  //console.log(orderitems[0].product.ean)\n  var _useState = useState({}),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var updatImage = function updatImage(ean) {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ean) {\n        var data, json, imgUrl, data2, json2;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get the data from the api\n                console.log('Workingggg ' + ean);\n                _context.next = 3;\n                return fetch(\"\".concat(NEW_IMAGES_URL), {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    artEan: ean\n                  }) ///body: JSON.stringify({ artEan: ean }),\n\n                });\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return data.json();\n\n              case 6:\n                json = _context.sent;\n                imgUrl = json.url;\n                _context.next = 10;\n                return fetch(\"\".concat(API_URL, \"/images\"), {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    ean: ean,\n                    url: imgUrl\n                  }) ///body: JSON.stringify({ artEan: ean }),\n\n                });\n\n              case 10:\n                data2 = _context.sent;\n                _context.next = 13;\n                return data2.json();\n\n              case 13:\n                json2 = _context.sent;\n                // set state with the result\n                console.log(json2); //setValues(json)\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchData(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    fetchData(ean); //console.log('Working!!!' + ean + values)\n    //console.log(values)\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: orderitems.map(function (orderitem) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.img,\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: orderitem.product.image ? orderitem.product.image : '/images/event-default.png',\n            width: 150,\n            height: 150\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: function onClick() {\n              return updatImage(orderitems[0].product.ean);\n            },\n            children: \"Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"OrderItem: \", orderitem.product.ean, ' ', orderitem.fulfilment.latestDeliveryDate, ' ', orderitem.fulfilment.exactDeliveryDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"OrderItem: \", orderitem.product.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, _this)]\n      }, orderitem.product.ean, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this);\n    })\n  }, void 0, false);\n} // export async function getStaticProps() {\n//   const res = await fetch(`${API_URL}/images?ean=8720279199770`) //${orderitems.product.ean}\n//   const img = await res.json()\n//   console.log(img)\n// }\n\n_s(OrderItem, \"jj5GeB6VwF55135U6pCdiR2sE48=\");\n\n_c = OrderItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderItem\");","map":{"version":3,"sources":["/Users/ahmaddev/Apps/azizyar/front/components/OrderItem.js"],"names":["NEW_IMAGES_URL","API_URL","useState","Image","styles","OrderItem","orderitems","values","setValues","updatImage","ean","fetchData","console","log","fetch","method","body","JSON","stringify","artEan","data","json","imgUrl","url","data2","json2","map","orderitem","img","product","image","fulfilment","latestDeliveryDate","exactDeliveryDate","title"],"mappings":"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","sourcesContent":["import { NEW_IMAGES_URL, API_URL } from '@/config/index'\nimport { useState } from 'react'\nimport Image from 'next/image'\nimport styles from '@/styles/Address.module.css'\n//import { API_URL } from '@/config/index'\n\nexport default function OrderItem({ orderitems }) {\n  //console.log(orderitems[0].product.ean)\n\n  const [values, setValues] = useState({})\n\n  const updatImage = (ean) => {\n    const fetchData = async (ean) => {\n      // get the data from the api\n\n      console.log('Workingggg ' + ean)\n      const data = await fetch(`${NEW_IMAGES_URL}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          artEan: ean,\n        }),\n        ///body: JSON.stringify({ artEan: ean }),\n      })\n      // convert the data to json\n      const json = await data.json()\n\n      const imgUrl = json.url\n\n      const data2 = await fetch(`${API_URL}/images`, {\n        method: 'POST',\n        body: JSON.stringify({\n          ean: ean,\n          url: imgUrl,\n        }),\n        ///body: JSON.stringify({ artEan: ean }),\n      })\n      // convert the data to json\n      const json2 = await data2.json()\n\n      // set state with the result\n      console.log(json2)\n      //setValues(json)\n    }\n\n    fetchData(ean)\n\n    //console.log('Working!!!' + ean + values)\n    //console.log(values)\n  }\n\n  return (\n    <>\n      {orderitems.map((orderitem) => (\n        <div key={orderitem.product.ean}>\n          <div className={styles.img}>\n            <Image\n              src={\n                orderitem.product.image\n                  ? orderitem.product.image\n                  : '/images/event-default.png'\n              }\n              width={150}\n              height={150}\n            />\n            <button onClick={() => updatImage(orderitems[0].product.ean)}>\n              Posts\n            </button>\n          </div>\n          <h4>\n            OrderItem: {orderitem.product.ean}{' '}\n            {orderitem.fulfilment.latestDeliveryDate}{' '}\n            {orderitem.fulfilment.exactDeliveryDate}\n          </h4>\n          <span>OrderItem: {orderitem.product.title}</span>\n        </div>\n      ))}\n    </>\n  )\n}\n// export async function getStaticProps() {\n//   const res = await fetch(`${API_URL}/images?ean=8720279199770`) //${orderitems.product.ean}\n//   const img = await res.json()\n\n//   console.log(img)\n// }\n"]},"metadata":{},"sourceType":"module"}