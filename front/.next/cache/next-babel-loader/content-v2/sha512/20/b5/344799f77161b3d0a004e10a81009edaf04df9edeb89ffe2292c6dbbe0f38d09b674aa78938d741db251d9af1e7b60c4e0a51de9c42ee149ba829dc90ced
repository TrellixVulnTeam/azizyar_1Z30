{"ast":null,"code":"export default (async (req, res) => {\n  if (req.method === 'POST') {\n    const ean = req.body.artEan; //8720279128701\n    //const ean = 8720279128701\n\n    fetch(`https://api.bol.com/catalog/v4/search/?q=${ean}&offset=0&limit=1&dataoutput=products&apikey=92D2DDD17E2245BDAFC0E359939510CA&format=json`).then(response => response.json()).then(json => res.status(200).json(json.products[0].images[4])); //.then((json) => res.status(200).json(ean))\n  } else {\n    res.setHeader('Allow', ['POST']);\n    res.status(405).json({\n      message: `Method ${req.method} not allowed`\n    });\n  }\n});","map":{"version":3,"sources":["/Users/ahmaddev/Apps/azizyar/front/pages/api/images.js"],"names":["req","res","method","ean","body","artEan","fetch","then","response","json","status","products","images","setHeader","message"],"mappings":"AAAA,gBAAe,OAAOA,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAMC,GAAG,GAAGH,GAAG,CAACI,IAAJ,CAASC,MAArB,CADyB,CACG;AAC5B;;AACAC,IAAAA,KAAK,CACF,4CAA2CH,GAAI,2FAD7C,CAAL,CAGGI,IAHH,CAGSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHtB,EAIGF,IAJH,CAISE,IAAD,IAAUR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqBA,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiBC,MAAjB,CAAwB,CAAxB,CAArB,CAJlB,EAHyB,CAQzB;AACD,GATD,MASO;AACLX,IAAAA,GAAG,CAACY,SAAJ,CAAc,OAAd,EAAuB,CAAC,MAAD,CAAvB;AACAZ,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB;AAAEK,MAAAA,OAAO,EAAG,UAASd,GAAG,CAACE,MAAO;AAAhC,KAArB;AACD;AACF,CAdD","sourcesContent":["export default async (req, res) => {\n  if (req.method === 'POST') {\n    const ean = req.body.artEan //8720279128701\n    //const ean = 8720279128701\n    fetch(\n      `https://api.bol.com/catalog/v4/search/?q=${ean}&offset=0&limit=1&dataoutput=products&apikey=92D2DDD17E2245BDAFC0E359939510CA&format=json`\n    )\n      .then((response) => response.json())\n      .then((json) => res.status(200).json(json.products[0].images[4]))\n    //.then((json) => res.status(200).json(ean))\n  } else {\n    res.setHeader('Allow', ['POST'])\n    res.status(405).json({ message: `Method ${req.method} not allowed` })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}