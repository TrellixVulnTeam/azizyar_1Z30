{"ast":null,"code":"import cookie from 'cookie';\nimport { API_URL } from '@/config/index';\nexport default (async (req, res) => {\n  if (req.method === 'POST') {\n    // Destroy cookie\n    res.setHeader('Set-Cookie', cookie.serialize('token', '', {\n      httpOnly: true,\n      secure: false,\n      expires: new Date(0),\n      sameSite: 'strict',\n      path: '/'\n    }));\n    res.status(200).json({\n      message: 'Success'\n    });\n  } else {\n    res.setHeader('Allow', ['POST']);\n    res.status(405).json({\n      message: `Method ${req.method} not allowed`\n    });\n  }\n});","map":{"version":3,"sources":["E:/azizyar/front/pages/api/logout.js"],"names":["cookie","API_URL","req","res","method","setHeader","serialize","httpOnly","secure","expires","Date","sameSite","path","status","json","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB;AACAD,IAAAA,GAAG,CAACE,SAAJ,CACE,YADF,EAEEL,MAAM,CAACM,SAAP,CAAiB,OAAjB,EAA0B,EAA1B,EAA8B;AAC5BC,MAAAA,QAAQ,EAAE,IADkB;AAE5BC,MAAAA,MAAM,OAFsB;AAG5BC,MAAAA,OAAO,EAAE,IAAIC,IAAJ,CAAS,CAAT,CAHmB;AAI5BC,MAAAA,QAAQ,EAAE,QAJkB;AAK5BC,MAAAA,IAAI,EAAE;AALsB,KAA9B,CAFF;AAWAT,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAdD,MAcO;AACLZ,IAAAA,GAAG,CAACE,SAAJ,CAAc,OAAd,EAAuB,CAAC,MAAD,CAAvB;AACAF,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAG,UAASb,GAAG,CAACE,MAAO;AAAhC,KAArB;AACD;AACF,CAnBD","sourcesContent":["import cookie from 'cookie'\r\nimport { API_URL } from '@/config/index'\r\n\r\nexport default async (req, res) => {\r\n  if (req.method === 'POST') {\r\n    // Destroy cookie\r\n    res.setHeader(\r\n      'Set-Cookie',\r\n      cookie.serialize('token', '', {\r\n        httpOnly: true,\r\n        secure: process.env.NODE_ENV !== 'development',\r\n        expires: new Date(0),\r\n        sameSite: 'strict',\r\n        path: '/',\r\n      })\r\n    )\r\n\r\n    res.status(200).json({ message: 'Success' })\r\n  } else {\r\n    res.setHeader('Allow', ['POST'])\r\n    res.status(405).json({ message: `Method ${req.method} not allowed` })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}