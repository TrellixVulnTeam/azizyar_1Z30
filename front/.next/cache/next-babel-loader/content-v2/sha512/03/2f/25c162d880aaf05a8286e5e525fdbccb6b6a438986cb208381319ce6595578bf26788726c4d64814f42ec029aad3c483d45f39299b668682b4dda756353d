{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/ahmaddev/Apps/azizyar/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ahmaddev/Apps/azizyar/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/ahmaddev/Apps/azizyar/front/components/OrderItem.js\",\n    _s = $RefreshSig$();\n\nimport { NEW_IMAGES_URL, API_URL } from '@/config/index';\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport styles from '@/styles/Address.module.css'; //import { API_URL } from '@/config/index'\n\nexport default function OrderItem(_ref) {\n  _s();\n\n  var _this = this;\n\n  var orderitems = _ref.orderitems;\n\n  //console.log(orderitems[0].product.ean)\n  var _useState = useState({}),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var updatImage = function updatImage(ean) {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ean) {\n        var data, json, imgUrl, data2, json2;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // get the data from the api\n                console.log('Workingggg ' + ean);\n                _context.next = 3;\n                return fetch(\"\".concat(NEW_IMAGES_URL), {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    artEan: ean\n                  }) ///body: JSON.stringify({ artEan: ean }),\n\n                });\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return data.json();\n\n              case 6:\n                json = _context.sent;\n                imgUrl = json.url;\n                console.log(imgUrl);\n                _context.next = 11;\n                return fetch(\"\".concat(API_URL, \"/images\"), {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    ean: ean,\n                    url: imgUrl\n                  }) ///body: JSON.stringify({ artEan: ean }),\n\n                });\n\n              case 11:\n                data2 = _context.sent;\n                _context.next = 14;\n                return data2.json();\n\n              case 14:\n                json2 = _context.sent;\n                // set state with the result\n                console.log(json2); //setValues(json)\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchData(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    fetchData(ean); //console.log('Working!!!' + ean + values)\n    //console.log(values)\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: orderitems.map(function (orderitem, index) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.img,\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: orderitem.product.image ? orderitem.product.image : '/images/event-default.png',\n            width: 150,\n            height: 150\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: function onClick() {\n              return updatImage(orderitems[index].product.ean);\n            },\n            children: \"Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"OrderItem: \", orderitem.product.ean, ' ', orderitem.fulfilment.latestDeliveryDate, ' ', orderitem.fulfilment.exactDeliveryDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"OrderItem: \", orderitem.product.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, _this)]\n      }, orderitem.product.ean, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this);\n    })\n  }, void 0, false);\n} // export async function getStaticProps() {\n//   const res = await fetch(`${API_URL}/images?ean=8720279199770`) //${orderitems.product.ean}\n//   const img = await res.json()\n//   console.log(img)\n// }\n\n_s(OrderItem, \"jj5GeB6VwF55135U6pCdiR2sE48=\");\n\n_c = OrderItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderItem\");","map":{"version":3,"sources":["/Users/ahmaddev/Apps/azizyar/front/components/OrderItem.js"],"names":["NEW_IMAGES_URL","API_URL","useState","Image","styles","OrderItem","orderitems","values","setValues","updatImage","ean","fetchData","console","log","fetch","method","headers","body","JSON","stringify","artEan","data","json","imgUrl","url","data2","json2","map","orderitem","index","img","product","image","fulfilment","latestDeliveryDate","exactDeliveryDate","title"],"mappings":"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","sourcesContent":["import { NEW_IMAGES_URL, API_URL } from '@/config/index'\nimport { useState } from 'react'\nimport Image from 'next/image'\nimport styles from '@/styles/Address.module.css'\n//import { API_URL } from '@/config/index'\n\nexport default function OrderItem({ orderitems }) {\n  //console.log(orderitems[0].product.ean)\n\n  const [values, setValues] = useState({})\n\n  const updatImage = (ean) => {\n    const fetchData = async (ean) => {\n      // get the data from the api\n\n      console.log('Workingggg ' + ean)\n      const data = await fetch(`${NEW_IMAGES_URL}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          artEan: ean,\n        }),\n        ///body: JSON.stringify({ artEan: ean }),\n      })\n      // convert the data to json\n      const json = await data.json()\n\n      const imgUrl = json.url\n      console.log(imgUrl)\n      const data2 = await fetch(`${API_URL}/images`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ean: ean,\n          url: imgUrl,\n        }),\n        ///body: JSON.stringify({ artEan: ean }),\n      })\n      // convert the data to json\n      const json2 = await data2.json()\n\n      // set state with the result\n      console.log(json2)\n      //setValues(json)\n    }\n\n    fetchData(ean)\n\n    //console.log('Working!!!' + ean + values)\n    //console.log(values)\n  }\n\n  return (\n    <>\n      {orderitems.map((orderitem, index) => (\n        <div key={orderitem.product.ean}>\n          <div className={styles.img}>\n            <Image\n              src={\n                orderitem.product.image\n                  ? orderitem.product.image\n                  : '/images/event-default.png'\n              }\n              width={150}\n              height={150}\n            />\n            <button onClick={() => updatImage(orderitems[index].product.ean)}>\n              Posts\n            </button>\n          </div>\n          <h4>\n            OrderItem: {orderitem.product.ean}{' '}\n            {orderitem.fulfilment.latestDeliveryDate}{' '}\n            {orderitem.fulfilment.exactDeliveryDate}\n          </h4>\n          <span>OrderItem: {orderitem.product.title}</span>\n        </div>\n      ))}\n    </>\n  )\n}\n// export async function getStaticProps() {\n//   const res = await fetch(`${API_URL}/images?ean=8720279199770`) //${orderitems.product.ean}\n//   const img = await res.json()\n\n//   console.log(img)\n// }\n"]},"metadata":{},"sourceType":"module"}